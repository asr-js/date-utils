{"version":3,"sources":["webpack://date-utils/webpack/universalModuleDefinition","webpack://date-utils/webpack/bootstrap","webpack://date-utils/./src/parse-date.ts","webpack://date-utils/./src/clean-time.ts","webpack://date-utils/./src/parse-time.ts","webpack://date-utils/./src/format-duration.ts","webpack://date-utils/./src/format-time.ts","webpack://date-utils/./src/format-date.ts","webpack://date-utils/./src/index.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","parseDate","time","toString","length","replace","Date","getTime","err","console","error","cleanTime","date","setHours","setMinutes","setSeconds","setMilliseconds","parseTime","cFormat","format","formatObj","y","getFullYear","getMonth","getDate","h","getHours","getMinutes","getSeconds","a","getDay","result","formatDuration","millisecond","milliseconds","Math","floor","spans","companies","times","formatTime","diff","now","ceil","formatDate"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAQ,cAAgBD,IAExBD,EAAK,cAAgBC,IARvB,CASGK,QAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,G,+BC7EvC,SAAUC,EAAUC,GACZ,iBAATA,EACsB,KAA3BA,EAAKC,WAAWC,SAClBF,GAAQ,KAEe,iBAATA,EAChBA,EAAOA,EACJG,QAAQ,MAAO,KACfA,QAAQ,IAAK,KACbA,QAAQ,aAAc,IAChBH,aAAgBI,OACzBJ,EAAOA,EAAKK,WAGd,IACE,OAAO,IAAID,KAAKJ,GAChB,MAAOM,GAEP,MADAC,QAAQC,MAAM,mCAAoCR,GAC5CM,GChBI,SAAUG,EAAUT,GAChC,IAAMU,EAAaX,EAAUC,GAO7B,OALAU,EAAKC,SAAS,GACdD,EAAKE,WAAW,GAChBF,EAAKG,WAAW,GAChBH,EAAKI,gBAAgB,GAEdJ,ECPK,SAAUK,EAAUf,EAA8BgB,GAC9D,IAAMN,EAAOX,EAAUC,GAEjBiB,EAASD,GAAW,0BACpBE,EAAiB,CACrBC,EAAGT,EAAKU,cACRjD,EAAGuC,EAAKW,WAAa,EACrBhD,EAAGqC,EAAKY,UACRC,EAAGb,EAAKc,WACRzD,EAAG2C,EAAKe,aACR3B,EAAGY,EAAKgB,aACRC,EAAGjB,EAAKkB,UAYV,OAVgBX,EAAOd,QAAQ,uBAAuB,SAAC0B,EAAQvC,GAC7D,IAAIN,EAAakC,EAAU5B,GAC3B,MAAY,MAARA,EACK,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAKN,EAAQ,IAEjD6C,EAAO3B,OAAS,GAAKlB,EAAQ,KAC/BA,EAAQ,IAAMA,GAETA,GAAS,MCxBN,SAAU8C,EAAeC,GACrC,IAAIC,EAAuBC,KAAKC,MAAMH,EAAc,KAEpD,GAAIC,GAAgB,EAClB,MAAO,MAOT,IAJA,IAAMG,EAAQ,CAAC,GAAI,GAAI,GAAI,GACrBC,EAAY,CAAC,IAAK,KAAM,KAAM,KAC9BC,EAAQ,CAAC,EAAG,EAAG,EAAG,GAEftE,EAAI,EAAGA,EAAIoE,EAAMjC,SACxBmC,EAAMtE,GAAKiE,EAAeG,EAAMpE,GAEX,KADrBiE,EAAeC,KAAKC,MAAMF,EAAeG,EAAMpE,MAFfA,KAQlC,IAAK,IAAI,EAAIoE,EAAMjC,OAAS,EAAG,GAAK,EAAG,IACrC,GAAImC,EAAM,GAAK,EACb,OAAOA,EAAM,GAAKD,EAAU,GAGhC,OAAOC,EAAM,GAAKD,EAAU,GCpBhB,SAAUE,EAAWtC,EAA8BgB,GAC/D,IAAM3C,EAAU0B,EAAUC,GAGpBuC,GAFcnC,KAAKoC,MAELnE,EAAEgC,WAAa,IAEnC,OAAIkC,EAAO,GACF,KACEA,EAAO,KACTN,KAAKQ,KAAKF,EAAO,IAAM,MACrBA,EAAO,MACTN,KAAKQ,KAAKF,EAAO,MAAQ,MACvBA,EAAO,OACT,MAELvB,EACKD,EAAU1C,EAAG2C,GAGlB3C,EAAEgD,WACF,EACA,IACAhD,EAAEiD,UACF,IACAjD,EAAEmD,WACF,IACAnD,EAAEoD,aACF,IC1BQ,SAAUiB,EAAW1C,GACjC,IAAM3B,EAAU0B,EAAUC,GAEpBU,EAAOD,EAAUpC,GACjBmE,EAAM/B,EAAUL,KAAKoC,OAGrBD,GAAQC,EAAInC,UAAYK,EAAKL,WAAa,MAEhD,OAAIkC,EAAO,EACFxB,EAAU1C,EAAG,WACXkE,EAAO,EACT,KACEA,EAAO,EACT,KACEC,EAAIpB,gBAAkBV,EAAKU,cAC7BL,EAAU1C,EAAG,WAEf0C,EAAU1C,EAAG,e,OC5BtB","file":"date-utils.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"date-utils\"] = factory();\n\telse\n\t\troot[\"date-utils\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * 解析为Date对象\n *\n * @param time 时间\n */\nexport default function parseDate(time: number | string | Date): Date {\n  if (typeof time === 'number') {\n    if (time.toString().length === 10) {\n      time *= 1000;\n    }\n  } else if (typeof time === 'string') {\n    time = time\n      .replace(/\\-/g, '/')\n      .replace('T', ' ')\n      .replace(/\\.[\\s\\S]*/g, '');\n  } else if (time instanceof Date) {\n    time = time.getTime();\n  }\n\n  try {\n    return new Date(time);\n  } catch (err) {\n    console.error('convert to date failed! source: ', time);\n    throw err;\n  }\n}\n","import parseDate from './parse-date';\n\n/**\n * 清空时间信息\n *\n * @param time 时间\n */\nexport default function cleanTime(time: number | string | Date): Date {\n  const date: Date = parseDate(time);\n\n  date.setHours(0);\n  date.setMinutes(0);\n  date.setSeconds(0);\n  date.setMilliseconds(0);\n\n  return date;\n}\n","import parseDate from './parse-date';\n\n/**\n * 解析为时间字符串\n *\n * @param time 时间\n * @param cFormat 格式化模板\n */\nexport default function parseTime(time: number | string | Date, cFormat?: string): string {\n  const date = parseDate(time);\n\n  const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}';\n  const formatObj: any = {\n    y: date.getFullYear(),\n    m: date.getMonth() + 1,\n    d: date.getDate(),\n    h: date.getHours(),\n    i: date.getMinutes(),\n    s: date.getSeconds(),\n    a: date.getDay(),\n  };\n  const timeStr = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\n    let value: any = formatObj[key];\n    if (key === 'a') {\n      return ['一', '二', '三', '四', '五', '六', '日'][value - 1];\n    }\n    if (result.length > 0 && value < 10) {\n      value = '0' + value;\n    }\n    return value || 0;\n  });\n  return timeStr;\n}\n","/**\n * 解析为时间长度\n *\n * @param millisecond 毫秒数\n */\nexport default function formatDuration(millisecond: number): string {\n  let milliseconds: number = Math.floor(millisecond / 1000);\n\n  if (milliseconds <= 0) {\n    return '时间到';\n  }\n\n  const spans = [60, 60, 24, 1];\n  const companies = ['秒', '分钟', '小时', '天'];\n  const times = [0, 0, 0, 0];\n\n  for (let i = 0; i < spans.length; i++) {\n    times[i] = milliseconds % spans[i];\n    milliseconds = Math.floor(milliseconds / spans[i]);\n    if (milliseconds === 0) {\n      break;\n    }\n  }\n\n  for (let i = spans.length - 1; i >= 0; i--) {\n    if (times[i] > 0) {\n      return times[i] + companies[i];\n    }\n  }\n  return times[0] + companies[0];\n}\n","import parseDate from './parse-date';\nimport parseTime from './parse-time';\n\n/**\n * 格式化为时间\n *\n * @param time 时间\n * @param cFormat 格式化模板\n */\nexport default function formatTime(time: number | string | Date, cFormat?: string): string {\n  const d: Date = parseDate(time);\n  const now: number = Date.now();\n\n  const diff = (now - d.getTime()) / 1000;\n\n  if (diff < 30) {\n    return '刚刚';\n  } else if (diff < 3600) {\n    return Math.ceil(diff / 60) + '分钟前';\n  } else if (diff < 3600 * 24) {\n    return Math.ceil(diff / 3600) + '小时前';\n  } else if (diff < 3600 * 24 * 2) {\n    return '1天前';\n  }\n  if (cFormat) {\n    return parseTime(d, cFormat);\n  } else {\n    return (\n      d.getMonth() +\n      1 +\n      '月' +\n      d.getDate() +\n      '日' +\n      d.getHours() +\n      '时' +\n      d.getMinutes() +\n      '分'\n    );\n  }\n}\n","import parseDate from './parse-date';\nimport cleanTime from './clean-time';\nimport parseTime from './parse-time';\n\n/**\n * 格式化为日期\n *\n * @param time 时间\n * @param cFormat 格式化模板\n */\nexport default function formatDate(time: number | string | Date): string {\n  const d: Date = parseDate(time);\n\n  const date = cleanTime(d);\n  const now = cleanTime(Date.now());\n\n  // 相差天数\n  const diff = (now.getTime() - date.getTime()) / 86400000.0;\n\n  if (diff < 1) {\n    return parseTime(d, '{h}:{i}');\n  } else if (diff < 2) {\n    return '昨天';\n  } else if (diff < 3) {\n    return '前天';\n  } else if (now.getFullYear() === date.getFullYear()) {\n    return parseTime(d, '{m}-{d}');\n  }\n  return parseTime(d, '{y}-{m}-{d}');\n}\n","export { default as cleanTime } from './clean-time';\nexport { default as parseTime } from './parse-time';\nexport { default as parseDate } from './parse-date';\nexport { default as formatDuration } from './format-duration';\nexport { default as formatTime } from './format-time';\nexport { default as formatDate } from './format-date';\n"],"sourceRoot":""}